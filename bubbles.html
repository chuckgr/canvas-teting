<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bubbles</title>
    <script type="text/javascript" src="shapes.js"></script>
    <script type="text/javascript">
        function draw(objects) {
            var canvas = document.getElementById("canvas");
            var context = canvas.getContext("2d");

            for (let i = 0; i < objects.length; i++) {
                objects[i].draw(context);
            }

            context.restore();
            /*
            // update the object locations
            if (objects.x > context.canvas.width) {
                x = Math.random() * context.canvas.height;
                step = -4;
                console.log('New x = '+step+' y = '+y);
            } 
            */
            window.requestAnimationFrame(function (ts) {
                //console.log(objects);
                draw(objects);
            });
        }

        function init() {
            // Get the canvas we are drawing to
            var canvas = document.getElementById("canvas");
            var ctx = canvas.getContext("2d");

            objs = [
                new Circle(Math.random() * canvas.width, Math.random() * canvas.height, (Math.random() * 10) + 2),
                new Square(Math.random() * canvas.width, Math.random() * canvas.height, Math.random() * 50 + 2)
            ];

            window.requestAnimationFrame(function (ts) {
                //console.log(cc);
                draw(objs);
            });
        }

        //----------------------------------------------------------
        // globals
        //----------------------------------------------------------
        let step = -4;
        let y = 250;

        let locs = [Math.random() * (500 / 2), Math.random() * (500 / 2), Math.random() * (500 / 2)]
    </script>
</head>

<body onload="init()">
    <h3>Shapes moving</h3>
    <canvas id="canvas" width="750" height="500" style="border: solid 5pt orange"></canvas>
    <p />
</body>

</html>